WCF.ACP.Language={},WCF.ACP.Language.ItemList=Class.extend({_proxy:null,_dialog:null,_notification:null,init:function(a,e){this._proxy=new WCF.Action.Proxy({success:$.proxy(this._success,this)}),$(".jsLanguageItem").each($.proxy(function(a,e){var t=$(e),i=t.data("languageItemID"),n=this;t.click(function(){n._click(i)})},this)),a=parseInt(a)||0,a>100&&this._createPagination(a,e)},_createPagination:function(a,e){$(".contentNavigation").each(function(t,i){var n=$(i),o=$("<nav />").prependTo(n);o.wcfPages({activePage:parseInt(e)||1,maxPage:Math.ceil(a/100)}).on("wcfpagesswitched",function(a,e){var t=$("#languageItemSearchForm");$('<input type="hidden" name="pageNo" value="'+e.activePage+'" />').appendTo(t),t.submit()})})},_click:function(a){this._proxy.setOption("data",{actionName:"prepareEdit",className:"wcf\\data\\language\\item\\LanguageItemAction",objectIDs:[a]}),this._proxy.sendRequest()},_success:function(a){a.returnValues?(this._showDialog(a.returnValues.template,a.returnValues.languageItem),this._dialog.find(".jsSubmitLanguageItem").click($.proxy(this._submit,this))):(null===this._notification&&(this._notification=new WCF.System.Notification(WCF.Language.get("wcf.global.success.edit"))),this._dialog.wcfDialog("close"),this._notification.show())},_showDialog:function(a,e){null===this._dialog&&(this._dialog=$("#languageItemEdit"),this._dialog.length||(this._dialog=$('<div id="languageItemEdit" />').hide().appendTo(document.body))),this._dialog.html(a).wcfDialog({title:e}).wcfDialog("render")},_submit:function(){var a=$("#overlayLanguageItemValue").val(),e=$("#overlayLanguageCustomItemValue").val(),t=$("#overlayLanguageUseCustomValue").is(":checked")?1:0,i=$("#overlayLanguageItemID").val();this._proxy.setOption("data",{actionName:"edit",className:"wcf\\data\\language\\item\\LanguageItemAction",objectIDs:[i],parameters:{languageItemValue:a,languageCustomItemValue:e,languageUseCustomValue:t}}),this._proxy.sendRequest()}});